<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><link rel="shortcut icon" href="vitaglow.jpg"><script src="dgi.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/all.css"><link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-regular.css"><link rel="stylesheet" href="https://site-assets.fontawesome.com/releases/v6.7.1/css/duotone-light.css"><title>Order Search</title><style>@import url(https://fonts.googleapis.com/css2?family=Lato:ital,wght@0,100;0,300;0,400;0,700;0,900;1,100;1,300;1,400;1,700;1,900&family=Noto+Serif+Bengali:wght@100..900&display=swap);.cart-icon,header{position:relative}body{background-color:#f4f6f9;font-family:Lato,sans-serif;text-align:center;margin:0;padding:0}.cart-count,.loader,.track-btn{background:#fff}.search-container{display:flex;align-items:center;border:2px solid #000;border-radius:5px;overflow:hidden;max-width:400px;margin:5px auto}.search-container input{border:none;padding:10px;flex:1;outline:0}.search-container button{background:#555;color:#fff;border:none;padding:10px;cursor:pointer}.order-box{text-align:left;margin:0 20px;max-width:400px;padding-bottom:15px;border-bottom:1px solid #ddd}.track-btn,h2{margin-top:10px}h3{margin-bottom:5px}.track-btn{display:block;width:100%;padding:12px;border:2px solid #000;color:#000;border-radius:50px;font-size:14px;font-weight:700;cursor:pointer;text-align:center}.loading-screen,header{display:flex;background:#fff}.track-btn:hover:not(:disabled){background:#000;color:#fff}.track-btn:disabled{background:#ccc;color:#666;border-color:#999;cursor:not-allowed}.status-processing{color:orange}.status-cancelled,.status-returned,.status-unpaid{color:red}.status-delivered,.status-paid{color:green}.status-shipped{color:#00f}header{justify-content:space-between;align-items:center;padding:20px;font-size:24px;overflow:hidden}.cart-icon i,.icon i{font-size:30px}.cart-count{position:absolute;top:-5px;right:-5px;color:#fff;font-size:14px;border-radius:50%;padding:4px 7px}@keyframes rotate-shake{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-10deg)}40%,80%{transform:rotate(10deg)}}.cart-shaking{animation:.5s ease-in-out rotate-shake}.truck-icon{position:relative;transition:transform 2s linear}h2{font-size:18px}.loading-screen{position:fixed;top:0;left:0;width:100%;height:100%;justify-content:center;align-items:center;z-index:1000;transition:opacity .3s}.loading-screen.hidden{opacity:0;pointer-events:none}.loader{display:inline-grid;padding:5px;filter:blur(4px) contrast(12)}.loader:after,.loader:before{content:"";grid-area:1/1;height:40px;aspect-ratio:3;--c:#0000 64%,#000 66% 98%,#0000 101%;background:radial-gradient(35% 146% at 50% 159%,var(--c)) 0 0,radial-gradient(35% 146% at 50% -59%,var(--c)) 100% 100%;background-size:calc(200% / 3) 50%;background-repeat:repeat-x;clip-path:inset(0 100% 0 0);animation:1.5s linear infinite l16}.loader:after{scale:-1 1;animation-delay:-.75s}@keyframes l16{50%{clip-path:inset(0)}to{clip-path:inset(0 0 0 100%)}}@media (min-width:992px){.search-containermain{display:flex;justify-content:center;flex-direction:column;margin:20px auto;align-items:center}}</style></style></head><body><div class="loading-screen" id="loadingScreen"><div class="loader"></div></div><header><div class="icon truck-icon"><i onclick="location.replace('index.html')" id="tracking" class="fa-solid fa-arrow-left"></i></div><h2>VitaGlow</h2><div style="color: white;" class="cart-icon"><i class="fa-duotone fa-regular fa-shopping-bag"></i><span class="cart-count"></span></div></header><div class="search-container"><input type="tel" id="searchInput" maxlength="11" placeholder="Type Phone Number (ex. 01888..)"><button onclick="searchOrder()"><i class="fa-duotone fa-regular fa-magnifying-glass-location"></i></button></div><div id="orderDetails"><p>Please type your phone number on the search bar to find orders!</p></div><script>!function(){document.addEventListener("contextmenu",function(t){t.preventDefault()}),document.addEventListener("keydown",function(t){("F12"===t.key||t.ctrlKey&&t.shiftKey&&"I"===t.key)&&t.preventDefault()}),setInterval(()=>{window.outerWidth-window.innerWidth>100||(window.outerHeight,window.innerHeight)},1e3),window.addEventListener("keydown",function(t){"F12"===t.key&&t.preventDefault()}),console.log=function(){},console.error=function(){},console.warn=function(){};let t=!1,e=setInterval(function(){(window.outerWidth-window.innerWidth>100||window.outerHeight-window.innerHeight>100)&&(t=!0),t&&clearInterval(e)},1e3);window.addEventListener("keydown",function(t){"F12"===t.key&&t.preventDefault()}),function(){console;let t=function(){};["log","warn","info","debug","error"].forEach(function(e){console[e]=t})}()}();let orderData=[];const urlParams=new URLSearchParams(window.location.search),phone=urlParams.get("phone");async function fetchAndProcessCSV(){let t=document.getElementById("loadingScreen");t.style.display="";try{let e=await fetch(`${dgistart}/1_swkKr2v0lKZ4dAKq24bTcz6w1CXxbWs7xyCWwW2Cbo/gviz/tq?tqx=out:csv`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let r=await e.text(),n=parseCSV(r);n.shift();return n.reverse().map((t,e)=>({orderDate:t[0]?formatDateTo12Hour(t[0]):"",name:t[1]||`Unnamed_${e}`,phone:t[2]||"",status:t[3]||"pending",email:t[4]||"",address:t[5]||"",productCodes:t[6]||"",productCount:t[7]||"",totalCount:parseInt(t[8])||0,eachPrice:t[9]||"",shipping:parseFloat(t[10])||0,totalPrice:parseFloat(t[11])||0,discount:parseFloat(t[12])||0,pstatus:t[13]||"",orderid:t[14]||`ORDER_${e}`}))}catch(o){return console.error("Error fetching or processing CSV:",o),alert("Failed to load order data. Please try again later."),[]}finally{setTimeout(()=>{t.classList.add("hidden"),setTimeout(()=>{t.style.display="none"},300)},500)}}function formatDateTo12Hour(t){let[e,r]=t.split(" "),[n,o,a]=e.split("/"),[s,i,d]=r.split(":");return`${n}/${o}/${a} ${s=s%12||12}:${i}:${d} ${s>=12?"PM":"AM"}`}function parseCSV(t){let e=[],r=t.trim().split("\n");for(let n of r){let o=[],a="",s=!1;for(let i=n.length-1;i>=0;i--){let d=n[i],l=i<n.length-1?n[i+1]:"";if('"'===d&&"\\"!==l){s=!s;continue}","!==d||s?a=d+a:(o.unshift(a.trim()),a="")}a&&o.unshift(a.trim()),e.push(o)}return e}function searchOrder(){let t=document.getElementById("searchInput").value.trim(),e=document.getElementById("orderDetails");if(e.innerHTML="",!orderData.length){e.innerHTML="<p>Loading order data, please wait...</p>";return}let r=orderData.filter(e=>e.phone===t);r.length>0?r.forEach(t=>{let r="cancelled"===t.status.toLowerCase();e.innerHTML+=`<div class="order-box"><h3>Order #${t.orderid}</h3><p><strong>Status:</strong> <span class="status-${t.status.toLowerCase()}">${t.status.toUpperCase()}</span></p><p><strong>Payment:</strong> <span class="status-${t.pstatus.toLowerCase()}">${t.pstatus.toUpperCase()}</span></p><p><strong>Date:</strong> ${t.orderDate}</p><p><strong>Phone:</strong> ${t.phone}</p><p><strong>Name:</strong> ${t.name}</p><p><strong>Address:</strong> ${t.address}</p><p><strong>Total:</strong> à§³${t.totalPrice.toFixed(2)}</p><button class="track-btn" ${r?"disabled":""} onclick="redirectToTracking('${t.orderid}')">View tracking info</button></div>`}):e.innerHTML="<p>No orders found for this phone number.</p>"}function redirectToTracking(t){let e=orderData.find(e=>e.orderid===t);if(e){let r=new URLSearchParams({orderid:e.orderid,date:e.orderDate,phone:e.phone,status:e.status,name:e.name,email:e.email,address:e.address,products:e.productCodes,counts:e.productCount,prices:e.eachPrice,shipping:e.shipping,total:e.totalPrice,discount:e.discount,pstatus:e.pstatus,totalCount:e.totalCount}).toString();window.location.href=`track.html?${r}`}}phone&&(document.getElementById("searchInput").value=phone,setTimeout(()=>{searchOrder()},1e3)),window.onload=async()=>{orderData=await fetchAndProcessCSV()},document.getElementById("searchInput").addEventListener("keypress",t=>{"Enter"===t.key&&searchOrder()});</script></body></html>
